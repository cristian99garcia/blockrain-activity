<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Sugar BlockRain</title>
    <link rel="stylesheet" media="not screen and (device-width: 1200px) and (device-height: 900px)"
      href="lib/sugar-web/graphics/css/sugar-96dpi.css">
    <link rel="stylesheet" media="screen and (device-width: 1200px) and (device-height: 900px)"
      href="lib/sugar-web/graphics/css/sugar-200dpi.css">
    <link rel="stylesheet" href="css/activity.css">

    <link rel="shortcut icon" type="image/png" href="assets/favicon.png">
    <link rel="stylesheet" href="assets/css/style.css">
  </head>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  </head>

  <body>
    <div id="main-toolbar" class="toolbar">
      <button class="toolbutton" id="activity-button" title="Laser Mirror"></button>
      <button class="toolbutton pull-right" id="stop-button" title="Stop"></button>
    </div>

    <section id="section" style="position: relative;">
      <article id="example-slider">
        <div class="example">
          <div class="game" id="tetris-demo"></div>
        </div>
      </article>
    </section>

    <script src="assets/js/jquery-1.11.1.min.js"></script>
    <script src="src/blockrain.jquery.libs.js"></script>
    <script src="src/blockrain.jquery.src.js"></script>
    <script src="src/blockrain.jquery.themes.js"></script>

    <script>
      var $cover = $('#cover-tetris').blockrain({
        autoplay: true,
        autoplayRestart: true,
        speed: 100,
        autoBlockWidth: false,
        autoBlockSize: 25,
        theme: 'candy'
      });

      var versusSpeed = 100;

      var $versus1 = $('#tetris-versus-1 .game').blockrain({
        autoplay: true,
        autoplayRestart: true,
        speed: versusSpeed,
        onGameOver: function() {
          $versus1.blockrain('restart');
          $versus2.blockrain('restart');
          var $score = $versus2.parent().find('.score');
          $score.text( parseInt($score.text()) + 1 );
        }
      });

      var $versus2 = $('#tetris-versus-2 .game').blockrain({
        autoplay: true,
        autoplayRestart: true,
        speed: versusSpeed,
        onGameOver: function() {
          $versus1.blockrain('restart');
          $versus2.blockrain('restart');
          var $score = $versus1.parent().find('.score');
          $score.text( parseInt($score.text()) + 1 );
        }
      });

      var $demo = $('#tetris-demo').blockrain({
        speed: 20,
        theme: 'candy',
        onStart: function() {
          ga( 'send', 'event', 'tetris', 'started');
        },
        onLine: function() {
          ga( 'send', 'event', 'tetris', 'line');
        },
        onGameOver: function(score){
          ga( 'send', 'event', 'tetris', 'over', score);
        }
      });
    </script>

  </body>
</html>
